!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("katex"),require("katex/dist/contrib/auto-render.js"),require("deepmerge"),require("vue"),require("vue-dompurify-html")):"function"==typeof define&&define.amd?define(["katex","katex/dist/contrib/auto-render.js","deepmerge","vue","vue-dompurify-html"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).Vue3Katex=t(e.Katex,e.renderMathInElement,e.deepmerge,e.Vue,e["vue-dompurify-html"])}(this,(function(e,t,o,r,a){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=n(e),i=n(t),l=n(o),d=n(a),f={name:"KatexElement"},s=Object.assign(f,{props:{expression:{type:String,default:"",required:!0},displayMode:{type:Boolean,default:void 0},throwOnError:{type:Boolean,default:void 0},errorColor:{type:String,default:void 0},macros:{type:Object,default:void 0},colorIsTextColor:{type:Boolean,default:void 0},maxSize:{type:Number,default:void 0},maxExpand:{type:Number,default:void 0},allowedProtocols:{type:Array,default:void 0},strict:{type:[Boolean,String,Function],default:void 0}},setup:function(e){var t=e,o=r.toRefs(t),a=o.displayMode,n=o.expression,i=o.throwOnError,d=o.errorColor,f=o.macros,s=o.colorIsTextColor,p=o.maxSize,c=o.maxExpand,v=o.allowedProtocols,m=o.strict,x=r.computed((function(){return l.default(r.inject("$katexOptions"),function(e){var t={};for(var o of Object.keys(e))void 0!==e[o]&&(t[o]=e[o]);return t}({displayMode:a.value,throwOnError:i.value,errorColor:d.value,macros:f.value,colorIsTextColor:s.value,maxSize:p.value,maxExpand:c.value,allowedProtocols:v.value,strict:m.value}))})),y=r.computed((function(){return a.value?"div":"span"})),g=r.computed((function(){return u.default.renderToString(n.value,x.value)}));return function(e,t){var o=r.resolveDirective("dompurify-html");return r.withDirectives((r.openBlock(),r.createBlock(r.resolveDynamicComponent(r.unref(y)),null,null,512)),[[o,r.unref(g)]])}}});return s.__file="src/components/KatexElement.vue",function(e,t){var o=t&&t.globalOptions||{},r=function(e){return{name:"katex",directive:function(t,o){var r=o.value&&o.value.options||{},a=l.default(e,r);if(o.arg&&"auto"===o.arg)i.default(t,a);else{var n=o.value.expression||o.value,d={};"display"===o.arg&&(d.displayMode=!0);var f=l.default(a,d);u.default.render(n,t,f)}}}}(o);e.directive(r.name,r.directive),e.component(s.name,s),e.use(d.default),e.provide("$katexOptions",o)}}));
