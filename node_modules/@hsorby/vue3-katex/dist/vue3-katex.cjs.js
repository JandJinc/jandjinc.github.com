"use strict";var e=require("katex"),r=require("katex/dist/contrib/auto-render.js"),o=require("deepmerge"),t=require("vue"),a=require("vue-dompurify-html");function u(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=u(e),n=u(r),i=u(o),d=u(a),v={name:"KatexElement"},s=Object.assign(v,{props:{expression:{type:String,default:"",required:!0},displayMode:{type:Boolean,default:void 0},throwOnError:{type:Boolean,default:void 0},errorColor:{type:String,default:void 0},macros:{type:Object,default:void 0},colorIsTextColor:{type:Boolean,default:void 0},maxSize:{type:Number,default:void 0},maxExpand:{type:Number,default:void 0},allowedProtocols:{type:Array,default:void 0},strict:{type:[Boolean,String,Function],default:void 0}},setup:function(e){var r=e,o=t.toRefs(r),a=o.displayMode,u=o.expression,n=o.throwOnError,d=o.errorColor,v=o.macros,s=o.colorIsTextColor,c=o.maxSize,p=o.maxExpand,f=o.allowedProtocols,m=o.strict,x=t.computed((function(){return i.default(t.inject("$katexOptions"),function(e){var r={};for(var o of Object.keys(e))void 0!==e[o]&&(r[o]=e[o]);return r}({displayMode:a.value,throwOnError:n.value,errorColor:d.value,macros:v.value,colorIsTextColor:s.value,maxSize:c.value,maxExpand:p.value,allowedProtocols:f.value,strict:m.value}))})),y=t.computed((function(){return a.value?"div":"span"})),g=t.computed((function(){return l.default.renderToString(u.value,x.value)}));return function(e,r){var o=t.resolveDirective("dompurify-html");return t.withDirectives((t.openBlock(),t.createBlock(t.resolveDynamicComponent(t.unref(y)),null,null,512)),[[o,t.unref(g)]])}}});s.__file="src/components/KatexElement.vue",module.exports=function(e,r){var o=r&&r.globalOptions||{},t=function(e){return{name:"katex",directive:function(r,o){var t=o.value&&o.value.options||{},a=i.default(e,t);if(o.arg&&"auto"===o.arg)n.default(r,a);else{var u=o.value.expression||o.value,d={};"display"===o.arg&&(d.displayMode=!0);var v=i.default(a,d);l.default.render(u,r,v)}}}}(o);e.directive(t.name,t.directive),e.component(s.name,s),e.use(d.default),e.provide("$katexOptions",o)};
