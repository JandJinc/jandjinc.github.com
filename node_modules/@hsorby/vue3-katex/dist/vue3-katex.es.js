import e from"katex";import o from"katex/dist/contrib/auto-render.js";import r from"deepmerge";import{toRefs as t,computed as a,inject as l,resolveDirective as n,withDirectives as i,openBlock as u,createBlock as d,resolveDynamicComponent as v,unref as p}from"vue";import s from"vue-dompurify-html";var m={name:"KatexElement"},c=Object.assign(m,{props:{expression:{type:String,default:"",required:!0},displayMode:{type:Boolean,default:void 0},throwOnError:{type:Boolean,default:void 0},errorColor:{type:String,default:void 0},macros:{type:Object,default:void 0},colorIsTextColor:{type:Boolean,default:void 0},maxSize:{type:Number,default:void 0},maxExpand:{type:Number,default:void 0},allowedProtocols:{type:Array,default:void 0},strict:{type:[Boolean,String,Function],default:void 0}},setup:function(o){var s=t(o),m=s.displayMode,c=s.expression,f=s.throwOnError,x=s.errorColor,y=s.macros,g=s.colorIsTextColor,O=s.maxSize,E=s.maxExpand,b=s.allowedProtocols,S=s.strict,k=a((function(){return r(l("$katexOptions"),function(e){var o={};for(var r of Object.keys(e))void 0!==e[r]&&(o[r]=e[r]);return o}({displayMode:m.value,throwOnError:f.value,errorColor:x.value,macros:y.value,colorIsTextColor:g.value,maxSize:O.value,maxExpand:E.value,allowedProtocols:b.value,strict:S.value}))})),w=a((function(){return m.value?"div":"span"})),C=a((function(){return e.renderToString(c.value,k.value)}));return function(e,o){var r=n("dompurify-html");return i((u(),d(v(p(w)),null,null,512)),[[r,p(C)]])}}});function f(t,a){var l=a&&a.globalOptions||{},n=function(t){return{name:"katex",directive:function(a,l){var n=l.value&&l.value.options||{},i=r(t,n);if(l.arg&&"auto"===l.arg)o(a,i);else{var u=l.value.expression||l.value,d={};"display"===l.arg&&(d.displayMode=!0);var v=r(i,d);e.render(u,a,v)}}}}(l);t.directive(n.name,n.directive),t.component(c.name,c),t.use(s),t.provide("$katexOptions",l)}c.__file="src/components/KatexElement.vue";export{f as default};
